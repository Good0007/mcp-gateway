# GUI ç®¡ç†é¡µé¢ - æ€»è§ˆ

## æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Plugin Registry Service (Bç«¯)     â”‚
â”‚   åå°ç®¡ç† + æ’ä»¶å‘å¸ƒ                â”‚
â”‚   https://registry.mcp-agent.com    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTPS
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   MCP Agent GUI (Cç«¯ - æœ¬åœ°åº”ç”¨)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     Web UI (React + TypeScript)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ æ’ä»¶å¸‚åœº  â”‚  â”‚  é…ç½®ç®¡ç†é¢æ¿   â”‚ â”‚
â”‚  â”‚ å®˜æ–¹+è‡ªå®šä¹‰â”‚ â”‚  æœåŠ¡å¯åœæ§åˆ¶   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ è¿æ¥çŠ¶æ€  â”‚  â”‚  æ—¥å¿—ç›‘æ§é¢æ¿   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚        API Layer (Express)          â”‚
â”‚  /api/services  /api/plugins        â”‚
â”‚  /api/registry  /api/logs           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    Local Database (SQLite)          â”‚
â”‚  installed_plugins | custom_plugins â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         MCP Agent Core              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æŠ€æœ¯æ ˆ

**å‰ç«¯**
- React 18 + TypeScript
- Vite (æ„å»ºå·¥å…·)
- TailwindCSS (æ ·å¼)
- shadcn/ui (ç»„ä»¶åº“)
- Zustand (çŠ¶æ€ç®¡ç†)
- React Query (æ•°æ®è·å–)

**åç«¯**
- Express.js
- WebSocket (å®æ—¶çŠ¶æ€)
- å¤ç”¨ç°æœ‰ MCP Agent Core

## æ ¸å¿ƒåŠŸèƒ½

### 1. æ’ä»¶å¸‚åœº ğŸ›’
- **å®˜æ–¹æ’ä»¶**: ä» Registry Service è·å–
  - ç»è¿‡å®¡æ ¸
  - ç‰ˆæœ¬ç®¡ç†
  - è‡ªåŠ¨æ›´æ–°
  - ä¸‹è½½ç»Ÿè®¡
- **è‡ªå®šä¹‰æ’ä»¶**: æœ¬åœ°åˆ›å»º/å¯¼å…¥
  - ç”¨æˆ·è‡ªå®šä¹‰é…ç½®
  - å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½
  - ç§æœ‰ä½¿ç”¨
- ä¸€é”®å®‰è£…
- æœç´¢/åˆ†ç±»/è¿‡æ»¤

### 2. æœåŠ¡é…ç½® âš™ï¸
- å¯è§†åŒ–é…ç½®ç¼–è¾‘
- æ·»åŠ è‡ªå®šä¹‰æœåŠ¡
- å¯ç”¨/ç¦ç”¨æœåŠ¡
- å‚æ•°éªŒè¯

### 3. è¿æ¥ç›‘æ§ ğŸ“Š
- xiaozhi è¿æ¥çŠ¶æ€
- æœåŠ¡å¥åº·æ£€æŸ¥
- å·¥å…·åˆ—è¡¨å®æ—¶æ›´æ–°
- é”™è¯¯æ—¥å¿—

### 4. æ—¥å¿—æŸ¥çœ‹ ğŸ“
- å®æ—¶æ—¥å¿—æµ
- æ—¥å¿—è¿‡æ»¤
- ä¸‹è½½å¯¼å‡º

## ç›®å½•ç»“æ„

```
gui/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ web/              # Web å‰ç«¯
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Market.tsx      # æ’ä»¶å¸‚åœº
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Services.tsx    # æœåŠ¡é…ç½®
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Monitor.tsx     # è¿æ¥ç›‘æ§
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Logs.tsx        # æ—¥å¿—æŸ¥çœ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â””â”€â”€ stores/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â””â”€â”€ server/           # API æœåŠ¡å™¨
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ routes/
â”‚       â”‚   â””â”€â”€ controllers/
â”‚       â””â”€â”€ package.json
â””â”€â”€ README.md
```

## è·¯ç”±è®¾è®¡

```
/                â†’ Dashboard (æ¦‚è§ˆ)
/market          â†’ æ’ä»¶å¸‚åœº
/services        â†’ æœåŠ¡é…ç½®
/monitoï¼ˆRegistryï¼‰
GET    /api/registry/plugins          # è·å–å®˜æ–¹æ’ä»¶åˆ—è¡¨
GET    /api/registry/plugins/:id      # è·å–æ’ä»¶è¯¦æƒ…
POST   /api/plugins/install/:id       # å®‰è£…å®˜æ–¹æ’ä»¶
GET    /api/registry/sync             # åŒæ­¥æ’ä»¶æ•°æ®

// è‡ªå®šä¹‰æ’ä»¶
GET    /api/custom-plugins            # è·å–è‡ªå®šä¹‰æ’ä»¶
POST   /api/custom-plugins            # æ·»åŠ è‡ªå®šä¹‰æ’ä»¶
PUT    /api/custom-plugins/:id        # æ›´æ–°è‡ªå®šä¹‰æ’ä»¶
DELETE /api/custom-plugins/:id        # åˆ é™¤è‡ªå®šä¹‰æ’ä»¶
POST   /api/custom-plugins/import     # å¯¼å…¥æ’ä»¶
GET    /api/custom-plugins/:id/export # å¯¼å‡ºæ’ä»¶

// å·²å®‰è£…æ’ä»¶
GET    /api/installed-plugins         # è·å–å·²å®‰è£…åˆ—è¡¨
DELETE /api/installed-plugins/:id     # å¸è½½æ’ä»¶
POST   /api/installed-plugins/:id/update  # æ›´æ–°
## API è®¾è®¡

```typescript
// æ’ä»¶ç›¸å…³
GET    /api/plugins          # è·å–æ’ä»¶åˆ—è¡¨
POST   /api/plugins/:id      # å®‰è£…æ’ä»¶
DELETE /api/plugins/:id      # å¸è½½æ’ä»¶

// æœåŠ¡ç›¸å…³
GET    /api/services         # è·å–æœåŠ¡åˆ—è¡¨
POST   /api/services         # æ·»åŠ æœåŠ¡
PUT    /api/services/:id     # æ›´æ–°æœåŠ¡
DELETE /api/services/:id     # åˆ é™¤æœåŠ¡
POST   /api/services/:id/toggle  # å¯ç”¨/ç¦ç”¨
4å¤©ï¼‰
- Registry Service é›†æˆ
- å®˜æ–¹æ’ä»¶åˆ—è¡¨å±•ç¤º
- è‡ªå®šä¹‰æ’ä»¶ç®¡ç†
- å®‰è£…/å¸è½½åŠŸèƒ½
- å¯¼å…¥/å¯¼å‡º/api/status           # è¿æ¥çŠ¶æ€
GET    /api/logs             # æ—¥å¿—æŸ¥è¯¢
WS     /api/ws               # WebSocket å®æ—¶æ¨é€
```

## å¼€å‘é˜¶æ®µ

**Phase 1**: åŸºç¡€æ¡†æ¶ï¼ˆ2å¤©ï¼‰
- é¡¹ç›®æ­å»º
- è·¯ç”±é…ç½®
- åŸºç¡€å¸ƒå±€

**Phase 2**: æ’ä»¶å¸‚åœºï¼ˆ3å¤©ï¼‰
- æ’ä»¶åˆ—è¡¨å±•ç¤º
- å®‰è£…/å¸è½½åŠŸèƒ½
- æœç´¢/è¿‡æ»¤

**Phase 3**: æœåŠ¡é…ç½®ï¼ˆ3å¤©ï¼‰
- é…ç½®è¡¨å•
- éªŒè¯é€»è¾‘
- è‡ªå®šä¹‰æœåŠ¡

**Phase 4**: ç›‘æ§ä¸æ—¥å¿—ï¼ˆ2å¤©ï¼‰
- å®æ—¶çŠ¶æ€æ˜¾ç¤º
- æ—¥å¿—æŸ¥çœ‹å™¨
- WebSocket é›†æˆ
