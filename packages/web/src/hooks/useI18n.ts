import { create } from 'zustand';
import { persist } from 'zustand/middleware';

type Language = 'zh' | 'en';

interface LanguageState {
  language: Language;
  setLanguage: (lang: Language) => void;
}

export const useLanguageStore = create<LanguageState>()(
  persist(
    (set) => ({
      language: 'zh',
      setLanguage: (lang) => set({ language: lang }),
    }),
    {
      name: 'language-storage',
    }
  )
);

const translations = {
  zh: {
    // Header
    'nav.market': '插件市场',
    'nav.connection': '连接管理',
    'nav.services': '服务管理',
    'nav.environment': '环境检测',
    'nav.config': '系统配置',
    'nav.logs': '日志查看',
    'header.title': 'Mcp Gateway',
    
    // Connection Page
    'connection.title': '连接管理',
    'connection.subtitle': '管理与外部服务的连接，包括接入小智智能体和提供 MCP 聚合代理服务。',
    'connection.client': '接入客户端 (Client)',
    'connection.server': '聚合服务 (Server)',
    'connection.status.connected': '已连接',
    'connection.status.disconnected': '未连接',
    'connection.status.connected_msg': '已连接到 Xiaozhi 服务',
    'connection.endpoint.select': '选择端点',
    'connection.endpoint.switch': '切换连接',
    'connection.endpoint.add': '添加新端点',
    'connection.endpoint.name': '端点名称',
    'connection.endpoint.url': '服务地址 (URL)',
    'connection.endpoint.add_btn': '添加端点',
    'connection.endpoint.list': '已保存的端点',
    'connection.endpoint.saved': '已保存的端点',
    'connection.endpoint.empty': '暂无保存的端点，请添加',
    'connection.endpoint.current': '当前使用',
    'connection.endpoint.copy': '复制地址',
    'connection.endpoint.delete': '删除端点',
    'connection.endpoint.use': '使用',
    'connection.endpoint.switch_btn': '切换',
    'connection.endpoint.instruction.title': '如何获取接入点：',
    'connection.endpoint.instruction.content': '登录小智控制台 -> 智能体 -> 配置角色 -> 找到自定义服务，点击「获取MCP接入点」',
    'connection.agent.status': '智能体连接状态',
    'connection.endpoint.config': '端点配置',
    'connection.status.label': '连接状态',
    'connection.toast.fill_all': '请填写完整的端点信息',
    'connection.toast.add_success': '端点添加成功',
    'connection.toast.add_fail': '添加端点失败',
    'connection.toast.delete_success': '端点删除成功',
    'connection.toast.delete_fail': '删除端点失败',
    'connection.toast.switch_success': '端点切换成功',
    'connection.toast.switch_fail': '切换端点失败',
    'connection.toast.copy_success': '地址已复制',
    'connection.toast.update_success': '配置更新成功',
    'connection.toast.update_fail': '更新配置失败',

    // Service Selector
    'connection.service.manage': '管理服务',
    'connection.service.apply': '应用更改',
    'connection.service.modal.title': '管理服务',
    'connection.service.modal.desc': '选择要为 {target} 启用的服务。',
    'connection.service.modal.search': '搜索服务...',
    'connection.service.modal.all': '全选',
    'connection.service.modal.none': '清空',
    'connection.service.modal.cancel': '取消',
    'connection.service.modal.save': '保存选择 ({count})',
    'connection.service.modal.no_match': '未找到匹配的服务',
    'connection.service.modal.no_services': '暂无可用服务',
    'connection.service.modal.tools_available': '{count} 个可用工具',
    'connection.service.empty': '暂无已启用服务。点击"管理服务"进行添加。',
    'connection.service.enabled_count': '已启用 {enabled}/{total} 个服务',
    'connection.xiaozhi.services.title': 'Xiaozhi 启用服务',
    'connection.xiaozhi.services.desc': '选择暴露给 Xiaozhi 客户端的服务。',
    'connection.proxy.services.title': 'MCP 代理启用服务',
    'connection.proxy.services.desc': '选择通过 MCP 代理暴露的服务。',

    // Xiaozhi Page
    'xiaozhi.page.title': 'Xiaozhi 服务',
    'xiaozhi.toast.fill_endpoint_info': '请填写完整的端点信息',
    'xiaozhi.toast.endpoint_added': '端点添加成功',
    'xiaozhi.toast.add_failed': '添加端点失败',
    'xiaozhi.toast.endpoint_deleted': '端点删除成功',
    'xiaozhi.toast.delete_failed': '删除端点失败',
    'xiaozhi.toast.endpoint_switched': '端点切换成功',
    'xiaozhi.toast.switch_failed': '切换端点失败',
    'xiaozhi.loading.connection': '加载连接状态...',
    'xiaozhi.error.load_status': '加载状态失败',
    'xiaozhi.error.unknown': '未知错误',
    'xiaozhi.tab.connection': '连接状态',
    'xiaozhi.tab.endpoints': '端点管理',
    'xiaozhi.connection.status': '连接状态',
    'xiaozhi.connection.connected': '已连接到 Xiaozhi 服务',
    'xiaozhi.connection.disconnected': '未连接',
    'xiaozhi.connection.connected_short': '已连接',
    'xiaozhi.connection.disconnected_short': '未连接',
    'xiaozhi.endpoint.select': '选择端点',
    'xiaozhi.endpoint.select_placeholder': '选择端点',
    'xiaozhi.endpoint.switch_reconnect': '切换并重连',
    'xiaozhi.endpoint.switch_hint': '选择端点后点击按钮切换连接',
    'xiaozhi.services.running': '运行中的服务',
    'xiaozhi.services.running_desc': '显示当前运行的服务及其提供的工具',
    'xiaozhi.services.count': '{count} 个服务',
    'xiaozhi.services.loading': '加载服务列表...',
    'xiaozhi.services.status.running': '运行中',
    'xiaozhi.services.no_desc': '无描述',
    'xiaozhi.services.empty': '暂无运行中的服务',
    'xiaozhi.services.empty_hint': '请在"服务配置"页面启动服务',
    'xiaozhi.about.title': '关于 Xiaozhi 服务',
    'xiaozhi.about.desc': 'Xiaozhi 是 Mcp Gateway 的 AI 对话服务，负责处理用户交互和智能决策。您可以在"端点管理"标签页中添加多个端点，并在此处快速切换。',
    'xiaozhi.endpoint.add.title': '添加新端点',
    'xiaozhi.endpoint.add.desc': '添加 Xiaozhi 服务的访问端点',
    'xiaozhi.endpoint.add.name_label': '端点名称',
    'xiaozhi.endpoint.add.name_placeholder': '例如：本地开发环境',
    'xiaozhi.endpoint.add.url_label': '端点 URL',
    'xiaozhi.endpoint.add.url_placeholder': '例如：http://localhost:3000',
    'xiaozhi.endpoint.add.button': '添加端点',
    'xiaozhi.endpoint.add.button_loading': '添加中...',
    'xiaozhi.endpoint.list.title': '已保存的端点',
    'xiaozhi.endpoint.list.desc': '管理您保存的 Xiaozhi 服务端点',
    'xiaozhi.endpoint.list.count': '{count} 个端点',
    'xiaozhi.endpoint.list.current': '当前使用',
    'xiaozhi.endpoint.list.added_at': '添加于 {date}',
    'xiaozhi.endpoint.list.open_new_window': '在新窗口打开',
    'xiaozhi.endpoint.list.delete': '删除',
    'xiaozhi.endpoint.list.empty': '暂无已保存的端点',
    'xiaozhi.endpoint.list.empty_hint': '请在上方表单中添加 Xiaozhi 服务端点',
    'xiaozhi.endpoint.manage_desc.title': '端点管理说明',
    'xiaozhi.endpoint.manage_desc.text': '您可以添加多个 Xiaozhi 服务端点（例如本地开发、测试环境、生产环境），并在"连接状态"标签页中快速切换。端点信息由系统统一管理，支持配置导出备份。',
    'xiaozhi.tool.modal.desc': '描述',
    'xiaozhi.tool.modal.params': '参数 ({count})',
    'xiaozhi.tool.modal.required': '必填',
    'xiaozhi.tool.modal.optional_values': '可选值:',
    'xiaozhi.tool.modal.default_value': '默认值:',
    'xiaozhi.tool.modal.no_params': '无参数',
    'xiaozhi.tool.modal.full_def': '完整定义 (JSON)',
    'xiaozhi.tool.modal.close': '关闭',
    'xiaozhi.tool.list.empty': '暂无工具',
    'xiaozhi.tool.list.label': '工具:',
    'xiaozhi.tool.list.expand': '展开全部',
    'xiaozhi.tool.list.collapse': '收起',
    'xiaozhi.tool.list.more': '+{count} 更多',
    
    // Proxy Server
    'connection.proxy.title': '代理服务器状态',
    'connection.proxy.status': '服务状态',
    'connection.proxy.enabled': '已启用',
    'connection.proxy.disabled': '已禁用',
    'connection.proxy.running': '运行中',
    'connection.proxy.stopped': '已停止',
    'connection.proxy.auth': '认证状态',
    'connection.proxy.auth.set': '已设置',
    'connection.proxy.auth.unset': '未设置',
    'connection.proxy.active': '活跃会话',
    'connection.proxy.tools': '可用工具',
    'connection.proxy.port': '端口',
    'connection.proxy.protocol': '协议信息',
    'connection.proxy.protocol.ver': '协议版本：',
    'connection.proxy.protocol.transport': '传输方式：',
    'connection.proxy.error': '无法连接到代理服务器',
    'connection.proxy.refresh': '刷新状态',
    'connection.proxy.desc': 'MCP 代理服务允许外部客户端通过标准 MCP 协议访问已启用的服务。',
    
    // Token Auth
    'connection.token.title': 'Token 认证',
    'connection.token.desc': '配置 Bearer Token 认证以保护代理端点。设置后，所有客户端连接都需要在请求头中携带此 Token。',
    'connection.token.placeholder': '未设置 Token（不启用认证）',
    'connection.token.generate': '生成新 Token',
    'connection.token.generate_success': '已生成新的 Token',
    'connection.token.copy_success': 'Token 已复制到剪贴板',
    'connection.token.copy_fail': '复制失败',
    'connection.token.copy': '复制',
    'connection.token.clear': '清除',
    'connection.token.clear_success': 'Token 已清除',
    'connection.token.warning': '生成新 Token 后，需要同步更新所有客户端（VS Code、Claude Desktop 等）的配置，否则连接将被拒绝。',
    
    // VS Code Config
    'connection.vscode.title': 'VS Code 配置',
    'connection.vscode.desc': '在项目根目录创建 .vscode/mcp.json 文件',
    'connection.vscode.copy_success': '配置已复制到剪贴板',
    'connection.vscode.copy_fail': '复制失败',
    'connection.vscode.steps': '配置步骤：',
    'connection.vscode.step1': '在项目根目录创建 .vscode/mcp.json 文件',
    'connection.vscode.step2': '粘贴上述配置内容（Token 已自动包含）',
    'connection.vscode.step3': '保存文件，VS Code 将自动发现并连接',
    'connection.vscode.step4': '也可在 VS Code 命令面板中搜索 "MCP: List Servers" 查看状态',
    
    // Claude Desktop Config
    'connection.claude.title': 'Claude Desktop 配置',
    'connection.claude.desc': '在 Claude Desktop 的配置文件中添加以下内容',
    'connection.claude.path': '配置文件位置：',
    
    // Environment Page
    'env.title': '环境检测',
    'env.subtitle': '检测和安装 MCP 运行环境',
    'env.check_btn': '重新检测',
    'env.checking': '检测中...',
    'env.platform': '当前平台',
    'env.distro': '发行版',
    'env.pkg_manager': '包管理器',
    'env.required': '必需',
    'env.optional': '可选',
    'env.installed': '已安装',
    'env.not_installed': '未安装',
    'env.install': '安装',
    'env.uninstall': '卸载',
    'env.installing': '安装中...',
    'env.uninstalling': '卸载中...',
    'env.log.title': '执行日志',
    'env.log.waiting': '等待输出...',
    'env.log.running': '执行中...',
    'env.log.close': '关闭',
    'env.log.success': '执行成功',
    'env.log.fail': '执行失败',
    'env.install.success': '安装完成',
    'env.install.fail': '安装失败',
    'env.uninstall.success': '卸载完成',
    'env.uninstall.fail': '卸载失败',
    'env.no_install_cmd': '当前平台不支持自动安装，请手动安装',
    'env.no_uninstall_cmd': '当前平台不支持自动卸载，请手动卸载',
    'env.desc.node': 'JavaScript 运行时，用于运行 npx 和 @modelcontextprotocol 官方服务',
    'env.desc.npm': 'Node.js 包管理器（随 Node.js 自动安装）',
    'env.desc.npx': 'Node.js 包执行器（随 Node.js 自动安装），用于运行 MCP 服务',
    'env.desc.python': 'Python 运行时，某些 MCP 服务需要',
    'env.desc.uv': '高性能 Python 包管理器，用于管理 Python 环境和依赖',
    'env.desc.uvx': 'Python 包执行器（随 uv 安装），类似 npx',
    'env.desc.git': '版本控制工具，某些安装方式需要',
    'env.desc.rust': 'Rust 编程语言，用于运行 Rust 编写的 MCP 服务',
    'env.desc.cargo': 'Rust 包管理器和构建工具（随 Rust 安装）',
    'env.desc.java': 'Java 运行时环境，用于运行 Java 编写的 MCP 服务',
    'env.desc.javac': 'Java 编译器（随 JDK 安装）',
    'env.desc.go': 'Go 编程语言，用于运行 Go 编写的 MCP 服务',
    'env.name.javac': 'Java 编译器',
    'env.name.node': 'Node.js',
    'env.name.npm': 'npm',
    'env.name.npx': 'npx',
    'env.name.python': 'Python 3',
    'env.name.pip': 'pip',
    'env.name.uv': 'uv',
    'env.name.uvx': 'uvx',
    'env.name.git': 'Git',
    'env.name.rust': 'Rust',
    'env.name.cargo': 'Cargo',
    'env.name.java': 'Java',
    'env.name.go': 'Go',
    'env.instructions': '使用说明',

    'env.check.fail': '环境检测失败',
    'env.check.fail_desc': '无法连接到后端服务',
    'env.required_env': '必需环境',
    'env.optional_env': '可选环境',
    'env.install.start': '开始执行...',
    'env.log.item': '{label}：{value}',
    'env.log.platform': '平台',
    'env.log.distro': '发行版',
    'env.log.command': '命令',
    'env.installing_name': '正在安装 {name}',
    'env.uninstalling_name': '正在卸载 {name}',
    'env.official': '官网',
    'env.recommend': '推荐:',
    'env.instr.required': 'Node.js/npm 是核心组件，必须安装',
    'env.instr.optional': 'Python/Go/Java/Rust 按需安装',
    'env.instr.uv': 'uv 是高性能 Python 包管理器，推荐安装',
    'env.instr.install_btn': '自动安装',
    'env.instr.install_desc': '尝试自动执行安装脚本',
    'env.instr.manual_btn': '手动安装',
    'env.instr.manual_desc': '若自动安装失败，请前往官网下载',
    'env.install.manual_required': '需要手动安装',
    'env.uninstall.manual_required': '需要手动卸载',

    // Config Page
    'config.title': '系统配置',
    'config.subtitle': '管理系统配置数据的导入和导出',
    'config.overview': '配置概览',
    'config.services': '已添加服务',
    'config.endpoints': '已保存端点',
    'config.last_update': '最后更新',
    'config.current_endpoint': '当前使用端点',
    'config.export.title': '导出配置',
    'config.export.desc': '将当前配置导出为 JSON 文件，用于备份或迁移',
    'config.export.btn': '导出为文件',
    'config.export.exporting': '导出中...',
    'config.export.copy': '复制配置',
    'config.export.info': '导出的配置文件包含所有服务、端点和偏好设置，但不包含敏感的密钥或密码。',
    'config.import.title': '导入配置',
    'config.import.desc': '从 JSON 文件导入配置，将覆盖当前配置',
    'config.import.select': '已选择文件',
    'config.import.change': '点击更换',
    'config.import.drag': '点击或拖拽上传',
    'config.import.format': '支持 .json 格式',
    'config.import.btn': '确认导入',
    'config.import.importing': '导入中...',
    'config.import.success': '配置导入成功，页面将刷新',
    'config.import.fail': '导入配置失败',
    'config.export.success': '配置导出成功',
    'config.copy.success': '配置已复制到剪贴板',
    'config.toast.export_fail': '导出配置失败',
    'config.toast.select_file': '请先选择配置文件',
    'config.toast.import_success': '配置导入成功，页面将刷新',
    'config.toast.import_fail': '导入配置失败',
    'config.toast.read_success': '文件读取成功',
    'config.toast.read_fail': '文件读取失败',
    'config.toast.copy_fail': '复制失败',
    'config.loading': '加载配置信息...',
    'config.unknown': '未知',
    'common.loading': '加载中...',
    'common.copy_success': '复制成功',
    'common.error': '操作失败',
    'common.theme.light': '切换到亮色模式',
    'common.theme.dark': '切换到暗色模式',
    'common.logout': '退出登录',
    'common.logout_fail': '退出登录失败',
    'common.unknown_error': '未知错误',
    'env.check_logs': '请查看日志了解详情',
    'env.platform.mac': 'macOS',
    'env.platform.linux': 'Linux',
    'env.platform.windows': 'Windows',
    
    // Logs Page
    'logs.title': '日志查看',
    'logs.subtitle': '查看系统运行日志',
    'logs.search.placeholder': '搜索日志内容、服务名称...',
    'logs.filter.all': '所有级别',
    'logs.filter.error': '错误',
    'logs.filter.warn': '警告',
    'logs.filter.info': '信息',
    'logs.filter.debug': '调试',
    'logs.auto_refresh': '自动刷新',
    'logs.manual_mode': '手动模式',
    'logs.refresh': '刷新',
    'logs.clear': '清空',
    'logs.export': '导出',
    'logs.export.success': '日志已导出',
    'logs.clear.success': '日志已清空',
    'logs.clear.fail': '清空日志失败',
    'logs.list.title': '系统日志',
    'logs.list.count': '（共 {count} 条 / 缓存 {buffer} 条）',
    'logs.loading': '加载日志...',
    'logs.load.fail': '加载日志失败',
    'logs.retry': '重试',
    'logs.empty': '暂无日志记录',
    'logs.empty.search': '未找到匹配的日志',

    // Footer
    'footer.running': '运行中',
    'footer.disconnected': '连接中断',
    'footer.stopped': '未运行',

    // Page Subtitles (for App.tsx)
    'market.subtitle': '浏览和安装 MCP 插件',
    'market.category.function': '功能分类',
    'market.category.all': '全部',
    'market.search.placeholder': '搜索插件名称、功能、作者...',
    'market.results.count': '共 {count} 个结果',
    'market.results.empty': '未找到匹配的服务',
    'market.results.none': '暂无可用服务',
    'market.install': '安装',
    'market.installing': '安装中...',
    'market.installed': '已安装',
    'market.configure': '配置',
    'market.badge.official': '官方',
    'market.card.by': '作者',
    'market.toast.env_required': '请填写必要的环境变量，替换 <...> 占位符',
    'market.toast.install_success': '服务 {serverKey} 已安装，请前往服务管理页面启动它。',
    'market.toast.install_failed': '安装失败: {error}',
    'market.toast.remove_confirm': '确定要移除该服务吗？这将不仅从配置中移除，还会停止相关进程。',
    'market.toast.remove_success': '服务 {serviceId} 已移除',
    'market.toast.remove_failed': '移除失败: {error}',
    'market.loading': '加载插件市场中...',
    'market.error': '加载插件市场失败',
    'market.error.unknown': '未知错误',
    'market.loading_failed': '加载失败',
    'market.detail.view_source': '查看源码',
    'market.detail.view_repo': '查看源码仓库',
    'market.detail.no_config': '未找到可用的配置信息',
    'market.detail.visit_github': '访问 GitHub 查看详细配置',
    'market.detail.installable': '可安装配置',
    'market.detail.other_methods': '其他配置方式',
    'market.detail.quality': '质量指标',
    'market.detail.command': '命令',
    'market.detail.args': '参数',
    'market.detail.env': '环境变量',
    'market.detail.enter_env': '请输入 {env}',
    'market.detail.config_btn': '配置',
    'market.quality.passed': '通过',
    'market.quality.failed': '未通过',
    'market.detail.json_btn': 'JSON',
    'market.detail.remove_btn': '移除服务',
    'market.detail.removing': '移除中...',
    'market.detail.install_btn': '安装服务',
    'market.detail.install_tooltip_env': '请配置必填环境变量',
    'market.detail.install_tooltip': '点击安装',
    'market.detail.copy_hint': '* 可复制到 claude_desktop_config.json 使用',
    'market.detail.args_placeholder': '输入参数，以空格分隔',
    'market.detail.env_fixed': '(已固定)',
    'market.detail.env_required': '需配置',
    'market.detail.env_hint': '请替换所有带红色标记的环境变量值（如 <YOUR_API_KEY>）以继续安装',
    'market.detail.unsupported_hint': '此配置需要 {env} 环境，当前仅支持 npx 和 uvx 安装方式。请访问 GitHub 查看详细安装说明。',
    'market.pagination.prev': '上一页',
    'market.pagination.next': '下一页',
    'market.pagination.info': '第 {current} / {total} 页',
    'services.subtitle': '配置 MCP 服务实例',

    // Login Page
    'login.title': '登录',
    'login.subtitle': '请登录以继续使用',
    'login.username': '用户名',
    'login.password': '密码',
    'login.username.placeholder': '请输入用户名',
    'login.password.placeholder': '请输入密码',
    'login.button': '登录',
    'login.logging_in': '登录中...',
    'login.toast.empty': '请输入用户名和密码',
    'login.toast.error': '用户名或密码错误',
    'login.toast.fail': '登录失败，请稍后重试',

    // Services Page
    'services.status.running': '运行中',
    'services.status.stopped': '已停止',
    'services.status.starting': '启动中',
    'services.status.error': '错误',
    'services.toast.start_success': '服务启动成功',
    'services.toast.start_fail_desc': '启动服务失败，请检查服务配置',
    'services.toast.start_fail': '启动失败',
    'services.toast.stop_success': '服务已停止',
    'services.toast.stop_fail': '停止服务失败',
    'services.toast.stop_fail_title': '停止失败',
    'services.toast.update_success': '服务更新成功',
    'services.toast.add_success': '服务添加成功',
    'services.toast.save_fail': '保存服务失败',
    'services.toast.save_fail_title': '保存失败',
    'services.toast.delete_success': '服务删除成功',
    'services.toast.delete_fail': '删除服务失败',
    'services.toast.delete_fail_title': '删除失败',
    'services.toast.format_error': '格式错误',
    'services.toast.env_format_error': '环境变量格式错误，请输入有效的 JSON 格式',
    'services.toast.headers_format_error': 'Headers 格式错误，请输入有效的 JSON 格式',
    'services.import.paste_json': '请粘贴 MCP 配置 JSON',
    'services.import.parse_success': '解析成功！找到 {count} 个服务',
    'services.import.parse_fail': '解析失败',
    'services.error.unknown': '未知错误',
    'services.import.complete': '导入完成：{success} 个成功, {failed} 个失败',
    'services.loading': '加载服务列表中...',
    'services.error.load_fail': '加载服务失败',
    'services.stats.total': '总数:',
    'services.stats.running': '运行:',
    'services.stats.stopped': '停止:',
    'services.button.import': '导入配置',
    'services.button.add': '添加服务',
    'services.empty.title': '暂无配置的服务',
    'services.empty.desc': '点击上方按钮添加服务或在配置文件中配置',
    'services.desc.none': '无描述',
    'services.version': '版本:',
    'services.tool_count': '工具数:',
    'services.tools': '工具:',
    'services.error.start_error': '启动错误',
    'services.button.stop_tooltip': '停止服务',
    'services.button.start_tooltip': '启动服务',
    'services.button.edit_tooltip': '编辑服务',
    'services.button.delete_tooltip': '删除服务',
    'services.modal.edit_title': '编辑服务',
    'services.modal.add_title': '添加新服务',
    'services.form.id': '服务 ID',
    'services.form.id_placeholder': '例如：calculator',
    'services.form.type': '服务类型',
    'services.type.stdio': 'Stdio (命令行)',
    'services.type.sse': 'SSE (Server-Sent Events)',
    'services.type.http': 'HTTP (REST API)',
    'services.type.embedded': 'Embedded (内嵌模块)',
    'services.form.name': '服务名称',
    'services.form.name_placeholder': '例如：Calculator Service',
    'services.form.desc': '服务描述',
    'services.form.desc_placeholder': '例如：基础算术运算',
    'services.config.stdio': 'Stdio 配置',
    'services.form.command': '启动命令',
    'services.form.command_placeholder': '例如：npx',
    'services.form.args': '命令参数（用空格分隔）',
    'services.form.args_placeholder': '例如：-y @modelcontextprotocol/server-calculator',
    'services.form.cwd': '工作目录（可选）',
    'services.form.cwd_placeholder': '例如：/Users/username',
    'services.form.env': '环境变量（可选，JSON 格式）',
    'services.config.sse': 'SSE 配置',
    'services.form.url': '端点 URL',
    'services.form.url_placeholder': '例如：http://localhost:8931/sse',
    'services.form.headers': '请求头 Headers（可选，JSON 格式）',
    'services.form.headers_placeholder': '例如：{"Authorization": "Bearer token"}',
    'services.config.http': 'HTTP 配置',
    'services.form.base_url': 'Base URL',
    'services.form.base_url_placeholder': '例如：http://localhost:4000/mcp',
    'services.button.saving': '保存中...',
    'services.button.adding': '添加中...',
    'services.button.save': '保存更改',
    'services.button.add_confirm': '添加服务',
    'services.button.cancel': '取消',
    'services.tip.save_restart': '保存后如果服务正在运行将自动重启',
    'services.tip.add_manual_start': '添加后服务不会自动启动，需要手动启动',
    'services.modal.delete_title': '确认删除服务',
    'services.modal.delete_confirm': '确定要删除服务 <span class="font-semibold text-red-600 dark:text-red-500">{name}</span> 吗？此操作无法撤销。',
    'services.modal.delete_stdio_tip': '该服务通过 stdio 方式安装。删除后，其安装的依赖环境（如 npm 包）仍将保留在系统中。如需完全卸载，请手动运行相关卸载命令。',
    'services.button.delete_confirm': '确认删除',
    'services.import.title': '导入 MCP 服务配置',
    'services.import.subtitle': '支持 Claude Desktop 和 VS Code 的 MCP 配置格式',
    'services.import.paste_label': '粘贴配置 JSON',
    'services.import.preview_label': '将导入以下服务：',
    'services.import.success_label': '导入成功',
    'services.import.fail_label': '导入失败',
    'services.import.error_details': '错误详情：',
    'services.button.parsing': '解析中...',
    'services.button.parse': '解析配置',
    'services.button.close': '关闭',
    'services.button.importing': '导入中...',
    'services.button.import_confirm': '确认导入 {count} 个服务',
    'services.button.back': '上一步',
    'services.button.repaste': '重新粘贴',
    'services.import.tip': '支持从 Claude Desktop 或 VS Code 的 MCP 配置文件中复制 JSON',
    'services.tool.click_detail': '点击查看详情',
    'services.tool.collapse': '收起',
    'services.tool.more': '+{count} 更多',
    'services.tool.expand': '展开全部',
    'services.tool.empty': '暂无工具',
    'services.tool.description': '描述',
    'services.tool.params': '参数 ({count})',
    'services.tool.required': '必填',
    'services.tool.enum': '可选值:',
    'services.tool.default': '默认值:',
    'services.tool.no_params': '无参数',
    'services.tool.full_def': '完整定义 (JSON)',

    // Monitor Page
    'monitor.agent.status': 'Agent 状态',
    'monitor.agent.running': '运行中',
    'monitor.agent.stopped': '未运行',
    'monitor.service.total': '服务总数',
    'monitor.service.running': '运行',
    'monitor.tool.total': '可用工具',
    'monitor.uptime': '运行时间',
    'monitor.xiaozhi.connection': 'Xiaozhi 连接',
    'monitor.xiaozhi.connected': '已连接',
    'monitor.xiaozhi.disconnected': '未连接',
    'monitor.xiaozhi.unconfigured': '未配置',
    'monitor.xiaozhi.online': '在线',
    'monitor.xiaozhi.offline': '离线',
    'monitor.service.status': '服务状态',
    'monitor.service.empty': '暂无服务',
    'monitor.tool.empty': '暂无可用工具',
  },
  en: {
    // Header
    'nav.market': 'Market',
    'nav.connection': 'Connection',
    'nav.services': 'Services',
    'nav.environment': 'Environment',
    'nav.config': 'Configuration',
    'nav.logs': 'Logs',
    'header.title': 'Mcp Gateway',

    // Connection Page
    'connection.title': 'Connection Management',
    'connection.subtitle': 'Manage connections with external services, including Xiaozhi Agent access and MCP Proxy service.',
    'connection.client': 'Client Access',
    'connection.server': 'Aggregation Service',
    'connection.status.connected': 'Connected',
    'connection.status.disconnected': 'Disconnected',
    'connection.status.connected_msg': 'Connected to Xiaozhi Service',
    'connection.endpoint.select': 'Select Endpoint',
    'connection.endpoint.switch': 'Switch Connection',
    'connection.endpoint.add': 'Add New Endpoint',
    'connection.endpoint.name': 'Endpoint Name',
    'connection.endpoint.url': 'Service URL',
    'connection.endpoint.add_btn': 'Add Endpoint',
    'connection.endpoint.list': 'Saved Endpoints',
    'connection.endpoint.saved': 'Saved Endpoints',
    'connection.endpoint.empty': 'No saved endpoints, please add one',
    'connection.endpoint.current': 'Current',
    'connection.endpoint.copy': 'Copy Address',
    'connection.endpoint.delete': 'Delete Endpoint',
    'connection.endpoint.use': 'Use',
    'connection.endpoint.switch_btn': 'Switch',
    'connection.endpoint.instruction.title': 'How to get access point:',
    'connection.endpoint.instruction.content': 'Login to Xiaozhi Console -> Agent -> Configure Role -> Find Custom Service, click "Get MCP Access Point"',
    'connection.agent.status': 'Agent Connection Status',
    'connection.endpoint.config': 'Endpoint Configuration',
    'connection.status.label': 'Connection Status',
    'connection.toast.fill_all': 'Please fill in complete endpoint information',
    'connection.toast.add_success': 'Endpoint added successfully',
    'connection.toast.add_fail': 'Failed to add endpoint',
    'connection.toast.delete_success': 'Endpoint deleted successfully',
    'connection.toast.delete_fail': 'Failed to delete endpoint',
    'connection.toast.switch_success': 'Endpoint switched successfully',
    'connection.toast.switch_fail': 'Failed to switch endpoint',
    'connection.toast.copy_success': 'Address copied',
    'connection.toast.update_success': 'Configuration updated successfully',
    'connection.toast.update_fail': 'Failed to update configuration',

    // Service Selector
    'connection.service.manage': 'Manage Services',
    'connection.service.apply': 'Apply Changes',
    'connection.service.modal.title': 'Manage Services',
    'connection.service.modal.desc': 'Select services to enable for {target}.',
    'connection.service.modal.search': 'Search services...',
    'connection.service.modal.all': 'All',
    'connection.service.modal.none': 'None',
    'connection.service.modal.cancel': 'Cancel',
    'connection.service.modal.save': 'Save Selection ({count})',
    'connection.service.modal.no_match': 'No matching services found',
    'connection.service.modal.no_services': 'No services available',
    'connection.service.modal.tools_available': '{count} tools available',
    'connection.service.empty': 'No services enabled. Click "Manage Services" to add.',
    'connection.service.enabled_count': '{enabled} of {total} services enabled',
    'connection.xiaozhi.services.title': 'Xiaozhi Enabled Services',
    'connection.xiaozhi.services.desc': 'Select which services are exposed to the Xiaozhi client.',
    'connection.proxy.services.title': 'MCP Proxy Enabled Services',
    'connection.proxy.services.desc': 'Select which services are exposed via the MCP Proxy.',
    
    // Xiaozhi Page
    'xiaozhi.page.title': 'Xiaozhi Service',
    'xiaozhi.toast.fill_endpoint_info': 'Please fill in complete endpoint information',
    'xiaozhi.toast.endpoint_added': 'Endpoint added successfully',
    'xiaozhi.toast.add_failed': 'Failed to add endpoint',
    'xiaozhi.toast.endpoint_deleted': 'Endpoint deleted successfully',
    'xiaozhi.toast.delete_failed': 'Failed to delete endpoint',
    'xiaozhi.toast.endpoint_switched': 'Endpoint switched successfully',
    'xiaozhi.toast.switch_failed': 'Failed to switch endpoint',
    'xiaozhi.loading.connection': 'Loading connection status...',
    'xiaozhi.error.load_status': 'Failed to load status',
    'xiaozhi.error.unknown': 'Unknown error',
    'xiaozhi.tab.connection': 'Connection Status',
    'xiaozhi.tab.endpoints': 'Endpoints',
    'xiaozhi.connection.status': 'Connection Status',
    'xiaozhi.connection.connected': 'Connected to Xiaozhi Service',
    'xiaozhi.connection.disconnected': 'Not Connected',
    'xiaozhi.connection.connected_short': 'Connected',
    'xiaozhi.connection.disconnected_short': 'Not Connected',
    'xiaozhi.endpoint.select': 'Select Endpoint',
    'xiaozhi.endpoint.select_placeholder': 'Select Endpoint',
    'xiaozhi.endpoint.switch_reconnect': 'Switch & Reconnect',
    'xiaozhi.endpoint.switch_hint': 'Select endpoint and click button to switch connection',
    'xiaozhi.services.running': 'Running Services',
    'xiaozhi.services.running_desc': 'Shows currently running services and their tools',
    'xiaozhi.services.count': '{count} Services',
    'xiaozhi.services.loading': 'Loading services list...',
    'xiaozhi.services.status.running': 'Running',
    'xiaozhi.services.no_desc': 'No description',
    'xiaozhi.services.empty': 'No running services',
    'xiaozhi.services.empty_hint': 'Please start services in "Services" page',
    'xiaozhi.about.title': 'About Xiaozhi Service',
    'xiaozhi.about.desc': 'Xiaozhi is the AI dialogue service for Mcp Gateway, responsible for handling user interactions and intelligent decisions. You can add multiple endpoints in the "Endpoints" tab and switch quickly here.',
    'xiaozhi.endpoint.add.title': 'Add New Endpoint',
    'xiaozhi.endpoint.add.desc': 'Add access endpoint for Xiaozhi service',
    'xiaozhi.endpoint.add.name_label': 'Endpoint Name',
    'xiaozhi.endpoint.add.name_placeholder': 'e.g., Local Dev Environment',
    'xiaozhi.endpoint.add.url_label': 'Endpoint URL',
    'xiaozhi.endpoint.add.url_placeholder': 'e.g., http://localhost:3000',
    'xiaozhi.endpoint.add.button': 'Add Endpoint',
    'xiaozhi.endpoint.add.button_loading': 'Adding...',
    'xiaozhi.endpoint.list.title': 'Saved Endpoints',
    'xiaozhi.endpoint.list.desc': 'Manage your saved Xiaozhi service endpoints',
    'xiaozhi.endpoint.list.count': '{count} Endpoints',
    'xiaozhi.endpoint.list.current': 'Current',
    'xiaozhi.endpoint.list.added_at': 'Added at {date}',
    'xiaozhi.endpoint.list.open_new_window': 'Open in new window',
    'xiaozhi.endpoint.list.delete': 'Delete',
    'xiaozhi.endpoint.list.empty': 'No saved endpoints',
    'xiaozhi.endpoint.list.empty_hint': 'Please add Xiaozhi service endpoints in the form above',
    'xiaozhi.endpoint.manage_desc.title': 'Endpoint Management Guide',
    'xiaozhi.endpoint.manage_desc.text': 'You can add multiple Xiaozhi service endpoints (e.g., local dev, test env, prod env) and switch quickly in the "Connection Status" tab. Endpoint info is managed by the system and supports configuration export/backup.',
    'xiaozhi.tool.modal.desc': 'Description',
    'xiaozhi.tool.modal.params': 'Parameters ({count})',
    'xiaozhi.tool.modal.required': 'Required',
    'xiaozhi.tool.modal.optional_values': 'Options:',
    'xiaozhi.tool.modal.default_value': 'Default:',
    'xiaozhi.tool.modal.no_params': 'No parameters',
    'xiaozhi.tool.modal.full_def': 'Full Definition (JSON)',
    'xiaozhi.tool.modal.close': 'Close',
    'xiaozhi.tool.list.empty': 'No tools',
    'xiaozhi.tool.list.label': 'Tools:',
    'xiaozhi.tool.list.expand': 'Expand all',
    'xiaozhi.tool.list.collapse': 'Collapse',
    'xiaozhi.tool.list.more': '+{count} more',

    // Proxy Server
    'connection.proxy.title': 'Proxy Server Status',
    'connection.proxy.status': 'Service Status',
    'connection.proxy.enabled': 'Enabled',
    'connection.proxy.disabled': 'Disabled',
    'connection.proxy.running': 'Running',
    'connection.proxy.stopped': 'Stopped',
    'connection.proxy.auth': 'Auth Status',
    'connection.proxy.auth.set': 'Set',
    'connection.proxy.auth.unset': 'Unset',
    'connection.proxy.active': 'Active Sessions',
    'connection.proxy.tools': 'Available Tools',
    'connection.proxy.port': 'Port',
    'connection.proxy.protocol': 'Protocol Info',
    'connection.proxy.protocol.ver': 'Protocol Version:',
    'connection.proxy.protocol.transport': 'Transport:',
    'connection.proxy.error': 'Cannot connect to proxy server',
    'connection.proxy.refresh': 'Refresh Status',
    'connection.proxy.desc': 'MCP Proxy Service allows external clients to access enabled services via standard MCP protocol.',
    
    // Token Auth
    'connection.token.title': 'Token Authentication',
    'connection.token.desc': 'Configure Bearer Token authentication to protect proxy endpoints. Once set, all client connections must carry this Token in the request header.',
    'connection.token.placeholder': 'No Token set (Auth disabled)',
    'connection.token.generate': 'Generate New Token',
    'connection.token.generate_success': 'New Token generated',
    'connection.token.copy_success': 'Token copied to clipboard',
    'connection.token.copy_fail': 'Copy failed',
    'connection.token.copy': 'Copy',
    'connection.token.clear': 'Clear',
    'connection.token.clear_success': 'Token cleared',
    'connection.token.warning': 'After generating a new Token, you need to update the configuration of all clients (VS Code, Claude Desktop, etc.), otherwise the connection will be refused.',
    
    // VS Code Config
    'connection.vscode.title': 'VS Code Configuration',
    'connection.vscode.desc': 'Create .vscode/mcp.json file in project root',
    'connection.vscode.copy_success': 'Configuration copied to clipboard',
    'connection.vscode.copy_fail': 'Copy failed',
    'connection.vscode.steps': 'Configuration Steps:',
    'connection.vscode.step1': 'Create .vscode/mcp.json file in project root',
    'connection.vscode.step2': 'Paste the above configuration content (Token automatically included)',
    'connection.vscode.step3': 'Save file, VS Code will automatically discover and connect',
    'connection.vscode.step4': 'Or search "MCP: List Servers" in VS Code command palette to check status',
    
    // Claude Desktop Config
    'connection.claude.title': 'Claude Desktop Configuration',
    'connection.claude.desc': 'Add the following content to Claude Desktop configuration file',
    'connection.claude.path': 'Config File Location:',

    // Environment Page
    'env.title': 'Environment Check',
    'env.subtitle': 'Check and install MCP runtime environment',
    'env.check_btn': 'Re-check',
    'env.checking': 'Checking...',
    'env.platform': 'Current Platform',
    'env.distro': 'Distribution',
    'env.pkg_manager': 'Package Manager',
    'env.required': 'Required',
    'env.optional': 'Optional',
    'env.installed': 'Installed',
    'env.not_installed': 'Not Installed',
    'env.install': 'Install',
    'env.uninstall': 'Uninstall',
    'env.installing': 'Installing...',
    'env.uninstalling': 'Uninstalling...',
    'env.log.title': 'Execution Logs',
    'env.log.waiting': 'Waiting for output...',
    'env.log.running': 'Running...',
    'env.log.close': 'Close',
    'env.log.success': 'Execution Success',
    'env.log.fail': 'Execution Failed',
    'env.install.success': 'Installation Complete',
    'env.install.fail': 'Installation Failed',
    'env.uninstall.success': 'Uninstallation Complete',
    'env.uninstall.fail': 'Uninstallation Failed',
    'env.no_install_cmd': 'Auto-install not supported on this platform, please install manually',
    'env.no_uninstall_cmd': 'Auto-uninstall not supported on this platform, please uninstall manually',
    'env.desc.node': 'JavaScript runtime, used for running npx and official @modelcontextprotocol services',
    'env.desc.npm': 'Node.js package manager (installed automatically with Node.js)',
    'env.desc.npx': 'Node.js package runner (installed automatically with Node.js), used to run MCP services',
    'env.desc.python': 'Python runtime, required by some MCP services',
    'env.desc.uv': 'High-performance Python package manager, used for managing Python environments and dependencies',
    'env.desc.uvx': 'Python package runner (installed with uv), similar to npx',
    'env.desc.git': 'Version control tool, required by some installation methods',
    'env.desc.rust': 'Rust programming language, used to run MCP services written in Rust',
    'env.desc.cargo': 'Rust package manager and build tool (installed with Rust)',
    'env.desc.java': 'Java runtime environment, used to run MCP services written in Java',
    'env.desc.javac': 'Java compiler (installed with JDK)',
    'env.desc.go': 'Go programming language, used to run MCP services written in Go',
    'env.name.javac': 'Java Compiler',
    'env.name.node': 'Node.js',
    'env.name.npm': 'npm',
    'env.name.npx': 'npx',
    'env.name.python': 'Python 3',
    'env.name.pip': 'pip',
    'env.name.uv': 'uv',
    'env.name.uvx': 'uvx',
    'env.name.git': 'Git',
    'env.name.rust': 'Rust',
    'env.name.cargo': 'Cargo',
    'env.name.java': 'Java',
    'env.name.go': 'Go',
    'env.instructions': 'Instructions',
    'env.check.fail': 'Environment Check Failed',
    'env.check.fail_desc': 'Failed to connect to backend service',
    'env.required_env': 'Required Environment',
    'env.optional_env': 'Optional Environment',
    'env.install.start': 'Starting execution...',
    'env.log.item': '{label}: {value}',
    'env.log.platform': 'Platform',
    'env.log.distro': 'Distribution',
    'env.log.command': 'Command',
    'env.installing_name': 'Installing {name}',
    'env.uninstalling_name': 'Uninstalling {name}',
    'env.official': 'Official Site',
    'env.recommend': 'Recommend:',
    'env.instr.required': 'Node.js/npm are core components and required',
    'env.instr.optional': 'Install Python/Go/Java/Rust only if needed',
    'env.instr.uv': 'uv is a recommended high-performance Python package manager',
    'env.instr.install_btn': 'Auto Install',
    'env.instr.install_desc': 'Attempts to run the installation script',
    'env.instr.manual_btn': 'Manual Install',
    'env.instr.manual_desc': 'If auto-install fails, please download from the official site',
    'env.install.manual_required': 'Manual install required',
    'env.uninstall.manual_required': 'Manual uninstall required',
    'config.title': 'System Configuration',
    'config.subtitle': 'Manage system configuration import and export',
    'config.overview': 'Configuration Overview',
    'config.services': 'Added Services',
    'config.endpoints': 'Saved Endpoints',
    'config.last_update': 'Last Update',
    'config.current_endpoint': 'Current Endpoint',
    'config.export.title': 'Export Configuration',
    'config.export.desc': 'Export current configuration to JSON file for backup or migration',
    'config.export.btn': 'Export to File',
    'config.export.exporting': 'Exporting...',
    'config.export.copy': 'Copy Config',
    'config.export.info': 'The exported configuration file contains all services, endpoints, and preferences, but excludes sensitive keys or passwords.',
    'config.import.title': 'Import Configuration',
    'config.import.desc': 'Import configuration from JSON file, will overwrite current configuration',
    'config.import.select': 'File Selected',
    'config.import.change': 'Change',
    'config.import.drag': 'Click or drag to upload',
    'config.import.format': 'Supports .json format',
    'config.import.btn': 'Confirm Import',
    'config.import.importing': 'Importing...',
    'config.import.success': 'Configuration imported successfully, page will refresh',
    'config.import.fail': 'Failed to import configuration',
    'config.export.success': 'Configuration exported successfully',
    'config.copy.success': 'Configuration copied to clipboard',
    'config.toast.export_fail': 'Failed to export configuration',
    'config.toast.select_file': 'Please select a configuration file first',
    'config.toast.import_success': 'Configuration imported successfully, page will refresh',
    'config.toast.import_fail': 'Failed to import configuration',
    'config.toast.read_success': 'File read successfully',
    'config.toast.read_fail': 'Failed to read file',
    'config.toast.copy_fail': 'Failed to copy',
    'config.loading': 'Loading configuration...',
    'config.unknown': 'Unknown',
    'common.loading': 'Loading...',
    'common.copy_success': 'Copied successfully',
    'common.error': 'Operation failed',
    'common.theme.light': 'Switch to light mode',
    'common.theme.dark': 'Switch to dark mode',
    'common.logout': 'Logout',
    'common.logout_fail': 'Logout failed',
    'common.unknown_error': 'Unknown Error',
    'env.check_logs': 'Check logs for details',
    'env.platform.mac': 'macOS',
    'env.platform.linux': 'Linux',
    'env.platform.windows': 'Windows',

    // Logs Page
    'logs.title': 'Logs',
    'logs.subtitle': 'View system runtime logs',
    'logs.search.placeholder': 'Search logs content, service name...',
    'logs.filter.all': 'All Levels',
    'logs.filter.error': 'Error',
    'logs.filter.warn': 'Warn',
    'logs.filter.info': 'Info',
    'logs.filter.debug': 'Debug',
    'logs.auto_refresh': 'Auto Refresh',
    'logs.manual_mode': 'Manual Mode',
    'logs.refresh': 'Refresh',
    'logs.clear': 'Clear',
    'logs.export': 'Export',
    'logs.export.success': 'Logs exported',
    'logs.clear.success': 'Logs cleared',
    'logs.clear.fail': 'Failed to clear logs',
    'logs.list.title': 'System Logs',
    'logs.list.count': '({count} total / {buffer} buffered)',
    'logs.loading': 'Loading logs...',
    'logs.load.fail': 'Failed to load logs',
    'logs.retry': 'Retry',
    'logs.empty': 'No logs available',
    'logs.empty.search': 'No matching logs found',

    // Footer
    'footer.running': 'Running',
    'footer.disconnected': 'Disconnected',
    'footer.stopped': 'Stopped',

    // Page Subtitles (for App.tsx)
    'market.subtitle': 'Browse and install MCP plugins',
    'market.category.function': 'Functions',
    'market.category.all': 'All',
    'market.search.placeholder': 'Search plugins, functions, creators...',
    'market.results.count': '{count} results',
    'market.results.empty': 'No matching services found',
    'market.results.none': 'No services available',
    'market.install': 'Install',
    'market.installing': 'Installing...',
    'market.installed': 'Installed',
    'market.configure': 'Configure',
    'market.badge.official': 'Official',
    'market.card.by': 'by',
    'market.toast.env_required': 'Please fill in necessary environment variables, replacing <...> placeholders',
    'market.toast.install_success': 'Service {serverKey} installed, please start it in Services page.',
    'market.toast.install_failed': 'Installation failed: {error}',
    'market.toast.remove_confirm': 'Are you sure you want to remove this service? This will stop related processes.',
    'market.toast.remove_success': 'Service {serviceId} removed',
    'market.toast.remove_failed': 'Removal failed: {error}',
    'market.loading': 'Loading plugin market...',
    'market.error': 'Failed to load plugin market',
    'market.error.unknown': 'Unknown error',
    'market.loading_failed': 'Load failed',
    'market.detail.view_source': 'View Source',
    'market.detail.view_repo': 'View Source Repository',
    'market.detail.no_config': 'No available configuration found',
    'market.detail.visit_github': 'Visit GitHub for details',
    'market.detail.installable': 'Installable Configurations',
    'market.detail.other_methods': 'Other Configuration Methods',
    'market.detail.quality': 'Quality Indicators',
    'market.detail.command': 'Command',
    'market.detail.args': 'Args',
    'market.detail.env': 'Env',
    'market.detail.enter_env': 'Enter {env}',
    'market.detail.config_btn': 'Config',
    'market.quality.passed': 'Passed',
    'market.quality.failed': 'Failed',
    'market.detail.json_btn': 'JSON',
    'market.detail.remove_btn': 'Remove Service',
    'market.detail.removing': 'Removing...',
    'market.detail.install_btn': 'Install Service',
    'market.detail.install_tooltip_env': 'Please configure required environment variables',
    'market.detail.install_tooltip': 'Click to install',
    'market.detail.copy_hint': '* Can be copied to claude_desktop_config.json',
    'market.detail.args_placeholder': 'Enter arguments, separated by spaces',
    'market.detail.env_fixed': '(Fixed)',
    'market.detail.env_required': 'Required',
    'market.detail.env_hint': 'Please replace all red-marked environment variables (e.g. <YOUR_API_KEY>) to continue',
    'market.detail.unsupported_hint': 'This configuration requires {env} environment. Currently only npx and uvx installation methods are supported. Please visit GitHub for detailed installation instructions.',
    'market.pagination.prev': 'Previous',
    'market.pagination.next': 'Next',
    'market.pagination.info': 'Page {current} / {total}',
    'services.subtitle': 'Configure MCP service instances',

    // Login Page
    'login.title': 'Login',
    'login.subtitle': 'Please login to continue',
    'login.username': 'Username',
    'login.password': 'Password',
    'login.username.placeholder': 'Enter username',
    'login.password.placeholder': 'Enter password',
    'login.button': 'Login',
    'login.logging_in': 'Logging in...',
    'login.toast.empty': 'Please enter username and password',
    'login.toast.error': 'Invalid username or password',
    'login.toast.fail': 'Login failed, please try again later',

    // Services Page
    'services.status.running': 'Running',
    'services.status.stopped': 'Stopped',
    'services.status.starting': 'Starting',
    'services.status.error': 'Error',
    'services.toast.start_success': 'Service started successfully',
    'services.toast.start_fail_desc': 'Failed to start service, please check configuration',
    'services.toast.start_fail': 'Start Failed',
    'services.toast.stop_success': 'Service stopped',
    'services.toast.stop_fail': 'Failed to stop service',
    'services.toast.stop_fail_title': 'Stop Failed',
    'services.toast.update_success': 'Service updated successfully',
    'services.toast.add_success': 'Service added successfully',
    'services.toast.save_fail': 'Failed to save service',
    'services.toast.save_fail_title': 'Save Failed',
    'services.toast.delete_success': 'Service deleted successfully',
    'services.toast.delete_fail': 'Failed to delete service',
    'services.toast.delete_fail_title': 'Delete Failed',
    'services.toast.format_error': 'Format Error',
    'services.toast.env_format_error': 'Environment variables format error, please enter valid JSON',
    'services.toast.headers_format_error': 'Headers format error, please enter valid JSON',
    'services.import.paste_json': 'Please paste MCP config JSON',
    'services.import.parse_success': 'Parse success! Found {count} services',
    'services.import.parse_fail': 'Parse failed',
    'services.error.unknown': 'Unknown error',
    'services.import.complete': 'Import complete: {success} success, {failed} failed',
    'services.loading': 'Loading services list...',
    'services.error.load_fail': 'Failed to load services',
    'services.stats.total': 'Total:',
    'services.stats.running': 'Running:',
    'services.stats.stopped': 'Stopped:',
    'services.button.import': 'Import Config',
    'services.button.add': 'Add Service',
    'services.empty.title': 'No configured services',
    'services.empty.desc': 'Click button above to add service or configure in config file',
    'services.desc.none': 'No description',
    'services.version': 'Version:',
    'services.tool_count': 'Tool Count:',
    'services.tools': 'Tools:',
    'services.error.start_error': 'Start Error',
    'services.button.stop_tooltip': 'Stop Service',
    'services.button.start_tooltip': 'Start Service',
    'services.button.edit_tooltip': 'Edit Service',
    'services.button.delete_tooltip': 'Delete Service',
    'services.modal.edit_title': 'Edit Service',
    'services.modal.add_title': 'Add New Service',
    'services.form.id': 'Service ID',
    'services.form.id_placeholder': 'e.g. calculator',
    'services.form.type': 'Service Type',
    'services.type.stdio': 'Stdio (Command Line)',
    'services.type.sse': 'SSE (Server-Sent Events)',
    'services.type.http': 'HTTP (REST API)',
    'services.type.embedded': 'Embedded (Module)',
    'services.form.name': 'Service Name',
    'services.form.name_placeholder': 'e.g. Calculator Service',
    'services.form.desc': 'Description',
    'services.form.desc_placeholder': 'e.g. Basic arithmetic operations',
    'services.config.stdio': 'Stdio Config',
    'services.form.command': 'Command',
    'services.form.command_placeholder': 'e.g. npx',
    'services.form.args': 'Arguments (space separated)',
    'services.form.args_placeholder': 'e.g. -y @modelcontextprotocol/server-calculator',
    'services.form.cwd': 'Working Directory (Optional)',
    'services.form.cwd_placeholder': 'e.g. /Users/username',
    'services.form.env': 'Environment Variables (Optional, JSON)',
    'services.config.sse': 'SSE Config',
    'services.form.url': 'Endpoint URL',
    'services.form.url_placeholder': 'e.g. http://localhost:8931/sse',
    'services.form.headers': 'Headers (Optional, JSON)',
    'services.form.headers_placeholder': 'e.g. {"Authorization": "Bearer token"}',
    'services.config.http': 'HTTP Config',
    'services.form.base_url': 'Base URL',
    'services.form.base_url_placeholder': 'e.g. http://localhost:4000/mcp',
    'services.button.saving': 'Saving...',
    'services.button.adding': 'Adding...',
    'services.button.save': 'Save Changes',
    'services.button.add_confirm': 'Add Service',
    'services.button.cancel': 'Cancel',
    'services.tip.save_restart': 'Service will restart automatically if running after save',
    'services.tip.add_manual_start': 'Service will not start automatically after add, please start manually',
    'services.modal.delete_title': 'Confirm Delete Service',
    'services.modal.delete_confirm': 'Are you sure to delete service <span class="font-semibold text-red-600 dark:text-red-500">{name}</span>? This cannot be undone.',
    'services.modal.delete_stdio_tip': 'This service is installed via stdio. Dependencies (like npm packages) will remain on system after deletion. Please uninstall manually if needed.',
    'services.button.delete_confirm': 'Confirm Delete',
    'services.import.title': 'Import MCP Service Config',
    'services.import.subtitle': 'Supports Claude Desktop and VS Code MCP config format',
    'services.import.paste_label': 'Paste Config JSON',
    'services.import.preview_label': 'Will import following services:',
    'services.import.success_label': 'Import Success',
    'services.import.fail_label': 'Import Failed',
    'services.import.error_details': 'Error Details:',
    'services.button.parsing': 'Parsing...',
    'services.button.parse': 'Parse Config',
    'services.button.close': 'Close',
    'services.button.importing': 'Importing...',
    'services.button.import_confirm': 'Confirm Import {count} Services',
    'services.button.back': 'Back',
    'services.button.repaste': 'Paste Again',
    'services.import.tip': 'Supports copying JSON from Claude Desktop or VS Code MCP config file',
    'services.tool.click_detail': 'Click for details',
    'services.tool.collapse': 'Collapse',
    'services.tool.more': '+{count} more',
    'services.tool.expand': 'Expand all',
    'services.tool.empty': 'No tools',
    'services.tool.description': 'Description',
    'services.tool.params': 'Parameters ({count})',
    'services.tool.required': 'Required',
    'services.tool.enum': 'Options:',
    'services.tool.default': 'Default:',
    'services.tool.no_params': 'No parameters',
    'services.tool.full_def': 'Full Definition (JSON)',

    // Monitor Page
    'monitor.agent.status': 'Agent Status',
    'monitor.agent.running': 'Running',
    'monitor.agent.stopped': 'Stopped',
    'monitor.service.total': 'Total Services',
    'monitor.service.running': 'Running',
    'monitor.tool.total': 'Available Tools',
    'monitor.uptime': 'Uptime',
    'monitor.xiaozhi.connection': 'Xiaozhi Connection',
    'monitor.xiaozhi.connected': 'Connected',
    'monitor.xiaozhi.disconnected': 'Disconnected',
    'monitor.xiaozhi.unconfigured': 'Not Configured',
    'monitor.xiaozhi.online': 'Online',
    'monitor.xiaozhi.offline': 'Offline',
    'monitor.service.status': 'Services Status',
    'monitor.service.empty': 'No Services',
    'monitor.tool.empty': 'No Tools Available',
  },
};

export function useTranslation() {
  const { language, setLanguage } = useLanguageStore();
  
  const t = (key: string, params?: Record<string, string | number>) => {
    // @ts-expect-error - Dynamic key access
    let value = translations[language][key];
    if (!value) return key;

    if (params) {
      Object.entries(params).forEach(([k, v]) => {
        value = value.replace(`{${k}}`, String(v));
      });
    }
    return value;
  };

  return { t, language, setLanguage };
}
